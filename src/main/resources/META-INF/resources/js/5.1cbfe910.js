(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"534f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("UserAPI")],1)},l=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"text-h2 row justify-center"},[e._v("User Editor")]),a("div",{staticClass:"q-pa-md justify-center"},[a("q-table",{attrs:{title:"User Editor",data:e.data,columns:e.columns,"row-key":"id",loading:e.loading,dense:"","binary-state-sort":"",pagination:e.initialPagination},on:{request:e.getAllUser},scopedSlots:e._u([{key:"top",fn:function(){return[a("q-btn",{attrs:{dense:"",color:"secondary",label:"Add User","no-caps":""},on:{click:function(t){e.show_dialog_addUser=!0}}}),a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-dialog",{model:{value:e.show_dialog_addUser,callback:function(t){e.show_dialog_addUser=t},expression:"show_dialog_addUser"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Neuen User anlegen")])]),a("q-card-section",[a("div",{staticClass:"row"},[a("q-input",{attrs:{label:"Vorname"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),a("q-input",{attrs:{label:"Nachname"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),a("q-input",{attrs:{label:"Email"},model:{value:e.emailAdress,callback:function(t){e.emailAdress=t},expression:"emailAdress"}}),a("q-input",{attrs:{label:"Rolle"},model:{value:e.userRole,callback:function(t){e.userRole=t},expression:"userRole"}})],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"},on:{click:e.createUser}})],1)],1)],1)],1),a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-dialog",{model:{value:e.show_dialog_editUser,callback:function(t){e.show_dialog_editUser=t},expression:"show_dialog_editUser"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("User bearbeiten")])]),a("q-card-section",[a("div",{staticClass:"row"},[a("q-input",{attrs:{label:"Vorname"},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),a("q-input",{attrs:{label:"Nachname"},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}}),a("q-input",{attrs:{label:"Email"},model:{value:e.editedItem.emailAdress,callback:function(t){e.$set(e.editedItem,"emailAdress",t)},expression:"editedItem.emailAdress"}}),a("q-input",{attrs:{label:"Rolle"},model:{value:e.editedItem.userRole,callback:function(t){e.$set(e.editedItem,"userRole",t)},expression:"editedItem.userRole"}})],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"},on:{click:e.updateUser}})],1)],1)],1)],1),a("div",{staticClass:"q-pa-sm q-gutter-sm"},[a("q-dialog",{model:{value:e.show_dialog_deleteUser,callback:function(t){e.show_dialog_deleteUser=t},expression:"show_dialog_deleteUser"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("User lÃ¶schen")])]),a("q-card-section",[a("div",{staticClass:"row"},[a("q-input",{attrs:{label:"Vorname"},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),a("q-input",{attrs:{label:"Nachname"},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}}),a("q-input",{attrs:{label:"Email"},model:{value:e.editedItem.emailAdress,callback:function(t){e.$set(e.editedItem,"emailAdress",t)},expression:"editedItem.emailAdress"}}),a("q-input",{attrs:{label:"Rolle"},model:{value:e.editedItem.userRole,callback:function(t){e.$set(e.editedItem,"userRole",t)},expression:"editedItem.userRole"}})],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"},on:{click:e.deleteUser}})],1)],1)],1)],1)]},proxy:!0},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"id",attrs:{props:t}},[e._v("\n            "+e._s(t.row.id)+"\n          ")]),a("q-td",{key:"firstName",attrs:{props:t}},[e._v("\n            "+e._s(t.row.firstName)+"\n          ")]),a("q-td",{key:"lastName",attrs:{props:t}},[e._v("\n            "+e._s(t.row.lastName)+"\n          ")]),a("q-td",{key:"emailAdress",attrs:{props:t}},[e._v("\n            "+e._s(t.row.emailAdress)+"\n          ")]),a("q-td",{key:"userRole",attrs:{props:t}},[e._v("\n            "+e._s(t.row.userRole)+"\n          ")]),a("q-td",{key:"actionEdit",attrs:{props:t}},[a("q-btn",{attrs:{color:"blue",label:"Edit",size:"sm","no-caps":""},on:{click:function(a){return e.updateUser(t.row)}}})],1),a("q-td",{key:"actionDelete",attrs:{props:t}},[a("q-btn",{attrs:{color:"red",label:"Delete",size:"sm","no-caps":""},on:{click:function(a){return e.deleteUser(t.row)}}})],1)],1)]}}])})],1)])},r=[],o=(a("e6cf"),{name:"UserEditor",components:{},data(){return{initialPagination:{sortBy:"desc",descending:!1,rowsPerPage:20},data:[],show_dialog_addUser:!1,show_dialog_editUser:!1,show_dialog_deleteUser:!1,loading:!1,editedIndex:-1,editedItem:{id:"",firstName:"",lastName:"",emailAdress:"",userRole:""},id:"",firstName:"",lastName:"",emailAdress:"",userRole:"",columns:[{name:"id",label:"ID",field:e=>e.id,sortable:!0},{name:"firstName",required:!0,label:"Vorname",align:"left",field:e=>e.firstName,sortable:!0},{name:"lastName",align:"center",label:"Nachname",field:e=>e.lastName,sortable:!0},{name:"emailAdress",label:"Emailadresse",field:e=>e.emailAdress,sortable:!0},{name:"userRole",label:"Rolle",field:e=>e.userRole,sortable:!0},{name:"actionEdit",label:"",field:"actions"},{name:"actionDelete",label:"",field:"actions"}]}},async created(){this.getAllUser()},methods:{getAllUser(){this.$axios.get("http://localhost:8081/user").then((e=>{this.data=e.data,window.console.log(this.data)})).catch((e=>{window.console.error(e)}))},updateUser(e){this.editedIndex=this.data.indexOf(e),this.editedItem=Object.assign({},e),this.show_dialog_editUser=!0,window.console.log("user id for update ",+e.id),this.$axios.put(`http://localhost:8081/user/${e.id}`,{firstName:e.firstName,lastName:e.lastName,emailAdress:e.emailAdress,userRole:e.userRole}).then((()=>{window.console.log(this.data),this.getAllUser()})).catch((e=>{window.console.error(e)}))},deleteUser(e){this.editedIndex=this.data.indexOf(e),this.editedItem=Object.assign({},e),this.$axios.delete(`http://localhost:8081/user/${e.id}`).then((()=>{this.getAllUser()})).catch((t=>{window.console.error(t,e.id)}))},createUser(){this.$axios.post("http://localhost:8081/user/",{firstName:this.firstName,lastName:this.lastName,emailAdress:this.emailAdress,userRole:this.userRole}).then((()=>{this.getAllUser()})).catch((e=>{window.console.error(e)}))},close(){this.show_dialog=!1,setTimeout((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}),300)}}}),d=o,n=a("2877"),c=a("9989"),m=a("eaac"),u=a("9c40"),p=a("24e8"),h=a("f09f"),f=a("a370"),b=a("27f9"),g=a("4b7e"),q=a("bd08"),w=a("db86"),_=a("7f67"),v=a("eebe"),N=a.n(v),U=Object(n["a"])(d,i,r,!1,null,null,null),I=U.exports;N()(U,"components",{QPage:c["a"],QTable:m["a"],QBtn:u["a"],QDialog:p["a"],QCard:h["a"],QCardSection:f["a"],QInput:b["a"],QCardActions:g["a"],QTr:q["a"],QTd:w["a"]}),N()(U,"directives",{ClosePopup:_["a"]});var k={name:"UserEditor",components:{UserAPI:I},data(){return{}},created(){}},x=k,A=Object(n["a"])(x,s,l,!1,null,null,null);t["default"]=A.exports;N()(A,"components",{QPage:c["a"]})}}]);