(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"534f":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},[s("UserAPI")],1)},i=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"text-h2 row justify-center"},[e._v("User Editor")]),s("div",{staticClass:"q-pa-md justify-center"},[s("q-table",{attrs:{title:"User Editor",data:e.data,columns:e.columns,"row-key":"id",loading:e.loading,dense:"","binary-state-sort":"",pagination:e.initialPagination},on:{request:e.getAllUser},scopedSlots:e._u([{key:"top",fn:function(){return[s("q-btn",{attrs:{dense:"",color:"secondary",label:"Add User","no-caps":""},on:{click:function(t){e.show_dialog_addUser=!0}}}),s("div",{staticClass:"q-pa-sm q-gutter-sm"},[s("q-dialog",{model:{value:e.show_dialog_addUser,callback:function(t){e.show_dialog_addUser=t},expression:"show_dialog_addUser"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6"},[e._v("Neuen User anlegen")])]),s("q-card-section",[s("div",{staticClass:"row"},[s("q-input",{attrs:{label:"Vorname"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),s("q-input",{attrs:{label:"Nachname"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),s("q-input",{attrs:{label:"Email"},model:{value:e.emailAdress,callback:function(t){e.emailAdress=t},expression:"emailAdress"}})],1),s("q-select",{attrs:{outlined:"",options:e.options,label:"Rolle","transition-show":"flip-up","transition-hide":"flip-down"},model:{value:e.userRole,callback:function(t){e.userRole=t},expression:"userRole"}})],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"},on:{click:e.createUser}})],1)],1)],1)],1),s("div",{staticClass:"q-pa-sm q-gutter-sm"},[s("q-dialog",{model:{value:e.show_dialog_editUser,callback:function(t){e.show_dialog_editUser=t},expression:"show_dialog_editUser"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6"},[e._v("User bearbeiten")])]),s("q-card-section",[s("div",{staticClass:"row"},[s("q-input",{attrs:{label:"Vorname"},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),s("q-input",{attrs:{label:"Nachname"},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}}),s("q-input",{attrs:{label:"Email"},model:{value:e.editedItem.emailAdress,callback:function(t){e.$set(e.editedItem,"emailAdress",t)},expression:"editedItem.emailAdress"}}),s("q-select",{attrs:{outlined:"",options:e.options,label:"Rolle","transition-show":"flip-up","transition-hide":"flip-down"},model:{value:e.editedItem.userRole,callback:function(t){e.$set(e.editedItem,"userRole",t)},expression:"editedItem.userRole"}})],1)]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"},on:{click:function(t){return e.updateUser(e.editedItem)}}})],1)],1)],1)],1)]},proxy:!0},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"id",attrs:{props:t}},[e._v("\n            "+e._s(t.row.id)+"\n          ")]),s("q-td",{key:"firstName",attrs:{props:t}},[e._v("\n            "+e._s(t.row.firstName)+"\n          ")]),s("q-td",{key:"lastName",attrs:{props:t}},[e._v("\n            "+e._s(t.row.lastName)+"\n          ")]),s("q-td",{key:"emailAdress",attrs:{props:t}},[e._v("\n            "+e._s(t.row.emailAdress)+"\n          ")]),s("q-td",{key:"userRole",attrs:{props:t}},[e._v("\n            "+e._s(t.row.userRole)+"\n          ")]),s("q-td",{key:"actionEdit",attrs:{props:t}},[s("q-btn",{attrs:{color:"blue",label:"Edit",size:"sm","no-caps":""},on:{click:function(t){e.show_dialog_editUser=!0}}})],1),s("q-td",{key:"actionDelete",attrs:{props:t}},[s("q-btn",{attrs:{color:"red",label:"Delete",size:"sm","no-caps":""},on:{click:function(s){return e.deleteUser(t.row)}}})],1)],1)]}}])})],1)])},o=[],r=(s("e6cf"),{name:"UserEditor",components:{},data(){return{model:null,options:["User","Editor","Admin"],initialPagination:{sortBy:"desc",descending:!1,rowsPerPage:20},data:[],show_dialog_addUser:!1,show_dialog_editUser:!1,loading:!1,editedIndex:-1,editedItem:{id:"",firstName:"",lastName:"",emailAdress:"",userRole:""},id:"",firstName:"",lastName:"",emailAdress:"",userRole:"",columns:[{name:"id",label:"ID",field:e=>e.id,sortable:!0},{name:"firstName",required:!0,label:"Vorname",align:"left",field:e=>e.firstName,sortable:!0},{name:"lastName",align:"center",label:"Nachname",field:e=>e.lastName,sortable:!0},{name:"emailAdress",label:"Emailadresse",field:e=>e.emailAdress,sortable:!0},{name:"userRole",label:"Rolle",field:e=>e.userRole,sortable:!0},{name:"actionEdit",label:"",field:"actions"},{name:"actionDelete",label:"",field:"actions"}]}},async created(){await this.getAllUser()},methods:{async getAllUser(){await this.$axios.get("http://localhost:8081/user").then((e=>{this.data=e.data,window.console.log(this.data)})).catch((e=>{window.console.error(e)}))},async updateUser(e){this.editedItem=Object.assign({},e),this.show_dialog_editUser=!0,window.console.log("user id for update ",+e.id),await this.$axios.put(`http://localhost:8081/user/${e.id}`,{firstName:this.firstName,lastName:this.lastName,emailAdress:this.emailAdress,userRole:this.userRole}).then((()=>{window.console.log(this.data),this.getAllUser()})).catch((e=>{window.console.error(e)}))},async deleteUser(e){await this.$axios.delete(`http://localhost:8081/user/${e.id}`).then((()=>{this.getAllUser()})).catch((t=>{window.console.error(t,e.id)}))},async createUser(){await this.$axios.post("http://localhost:8081/user/",{firstName:this.firstName,lastName:this.lastName,emailAdress:this.emailAdress,userRole:this.userRole}).then((()=>{this.getAllUser()})).catch((e=>{window.console.error(e)}))},close(){this.show_dialog=!1,setTimeout((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}),300)},saved(){window.console.log("gespeichert")}}}),n=r,d=s("2877"),c=s("eaac"),m=s("9c40"),u=s("24e8"),p=s("f09f"),h=s("a370"),f=s("27f9"),b=s("ddd8"),w=s("4b7e"),g=s("bd08"),_=s("db86"),q=s("7f67"),N=s("eebe"),v=s.n(N),U=Object(d["a"])(n,l,o,!1,null,null,null),k=U.exports;v()(U,"components",{QTable:c["a"],QBtn:m["a"],QDialog:u["a"],QCard:p["a"],QCardSection:h["a"],QInput:f["a"],QSelect:b["a"],QCardActions:w["a"],QTr:g["a"],QTd:_["a"]}),v()(U,"directives",{ClosePopup:q["a"]});var A={name:"UserEditor",components:{UserAPI:k},data(){return{}},created(){}},y=A,I=s("9989"),x=Object(d["a"])(y,a,i,!1,null,null,null);t["default"]=x.exports;v()(x,"components",{QPage:I["a"]})}}]);