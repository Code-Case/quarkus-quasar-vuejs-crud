(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"051b":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},[s("UserAPI")],1)},o=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"text-h2 row justify-center"},[e._v("User Editor")]),s("div",{staticClass:"q-pa-md justify-center"},[s("q-table",{attrs:{title:"User Editor",data:e.data,columns:e.columns,"row-key":"id",loading:e.loading,dense:"","binary-state-sort":""},scopedSlots:e._u([{key:"top",fn:function(){return[s("q-btn",{attrs:{dense:"",color:"secondary",label:"Add User","no-caps":""},on:{click:function(t){e.show_dialog_addUser=!0}}}),s("div",{staticClass:"q-pa-sm q-gutter-sm"},[s("q-dialog",{model:{value:e.show_dialog_addUser,callback:function(t){e.show_dialog_addUser=t},expression:"show_dialog_addUser"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6"},[e._v("Neuen User anlegen")])]),s("q-card-section",[s("div",{staticClass:"row"},[s("q-input",{attrs:{label:"Vorname"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),s("q-input",{attrs:{label:"Nachname"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),s("q-input",{attrs:{label:"Email"},model:{value:e.emailAdress,callback:function(t){e.emailAdress=t},expression:"emailAdress"}}),s("q-input",{attrs:{label:"Rolle"},model:{value:e.userRole,callback:function(t){e.userRole=t},expression:"userRole"}})],1)]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"},on:{click:e.createUser}})],1)],1)],1)],1),s("div",{staticClass:"q-pa-sm q-gutter-sm"},[s("q-dialog",{model:{value:e.show_dialog_editUser,callback:function(t){e.show_dialog_editUser=t},expression:"show_dialog_editUser"}},[s("q-card",[s("q-card-section",[s("div",{staticClass:"text-h6"},[e._v("User bearbeiten")])]),s("q-card-section",[s("div",{staticClass:"row"},[s("q-input",{attrs:{label:"Vorname"},model:{value:e.editedItem.firstName,callback:function(t){e.$set(e.editedItem,"firstName",t)},expression:"editedItem.firstName"}}),s("q-input",{attrs:{label:"Nachname"},model:{value:e.editedItem.lastName,callback:function(t){e.$set(e.editedItem,"lastName",t)},expression:"editedItem.lastName"}}),s("q-input",{attrs:{label:"Email"},model:{value:e.editedItem.emailAdress,callback:function(t){e.$set(e.editedItem,"emailAdress",t)},expression:"editedItem.emailAdress"}}),s("q-input",{attrs:{label:"Rolle"},model:{value:e.editedItem.userRole,callback:function(t){e.$set(e.editedItem,"userRole",t)},expression:"editedItem.userRole"}})],1)]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"},on:{click:e.updateUser}})],1)],1)],1)],1)]},proxy:!0},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"id",attrs:{props:t}},[e._v("\n            "+e._s(t.row.id)+"\n            "),s("q-popup-edit",{model:{value:t.row.id,callback:function(s){e.$set(t.row,"id",s)},expression:"props.row.id"}},[s("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:t.row.id,callback:function(s){e.$set(t.row,"id",s)},expression:"props.row.id"}})],1)],1),s("q-td",{key:"firstName",attrs:{props:t}},[e._v("\n            "+e._s(t.row.firstName)+"\n            "),s("q-popup-edit",{model:{value:t.row.firstName,callback:function(s){e.$set(t.row,"firstName",s)},expression:"props.row.firstName"}},[s("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:t.row.firstName,callback:function(s){e.$set(t.row,"firstName",s)},expression:"props.row.firstName"}})],1)],1),s("q-td",{key:"lastName",attrs:{props:t}},[e._v("\n            "+e._s(t.row.lastName)+"\n            "),s("q-popup-edit",{model:{value:t.row.lastName,callback:function(s){e.$set(t.row,"lastName",s)},expression:"props.row.lastName"}},[s("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:t.row.lastName,callback:function(s){e.$set(t.row,"lastName",s)},expression:"props.row.lastName"}})],1)],1),s("q-td",{key:"emailAdress",attrs:{props:t}},[e._v("\n            "+e._s(t.row.emailAdress)+"\n            "),s("q-popup-edit",{model:{value:t.row.emailAdress,callback:function(s){e.$set(t.row,"emailAdress",s)},expression:"props.row.emailAdress"}},[s("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:t.row.emailAdress,callback:function(s){e.$set(t.row,"emailAdress",s)},expression:"props.row.emailAdress"}})],1)],1),s("q-td",{key:"userRole",attrs:{props:t}},[e._v("\n            "+e._s(t.row.userRole)+"\n            "),s("q-popup-edit",{model:{value:t.row.userRole,callback:function(s){e.$set(t.row,"userRole",s)},expression:"props.row.userRole"}},[s("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:t.row.userRole,callback:function(s){e.$set(t.row,"userRole",s)},expression:"props.row.userRole"}})],1)],1),s("q-td",{key:"actionEdit",attrs:{props:t}},[s("q-btn",{attrs:{color:"blue",label:"Edit",size:"sm","no-caps":""},on:{click:function(s){return e.updateUser(t.row)}}})],1),s("q-td",{key:"actionDelete",attrs:{props:t}},[s("q-btn",{attrs:{color:"red",label:"Delete",size:"sm","no-caps":""},on:{click:function(s){return e.deleteUser(t.row)}}})],1)],1)]}}])})],1)])},l=[],i=(s("e6cf"),{name:"UserEditor",components:{},data(){return{data:[],show_dialog_addUser:!1,show_dialog_editUser:!1,loading:!1,editedIndex:-1,editedItem:{id:"",firstName:"",lastName:"",emailAdress:"",userRole:""},id:"",firstName:"",lastName:"",emailAdress:"",userRole:"",columns:[{name:"id",label:"ID",field:e=>e.id,sortable:!0},{name:"firstName",required:!0,label:"Vorname",align:"left",field:e=>e.firstName,sortable:!0},{name:"lastName",align:"center",label:"Nachname",field:e=>e.lastName,sortable:!0},{name:"emailAdress",label:"Emailadresse",field:e=>e.emailAdress,sortable:!0},{name:"userRole",label:"Rolle",field:e=>e.userRole,sortable:!0},{name:"actionEdit",label:"",field:"actions"},{name:"actionDelete",label:"",field:"actions"}]}},async created(){this.getAllUser()},methods:{getAllUser(){this.$axios.get("http://localhost:8081/user").then((e=>{this.data=e.data,window.console.log(this.data)})).catch((e=>{window.console.error(e)}))},updateUser(e){this.editedIndex=this.data.indexOf(e),this.editedItem=Object.assign({},e),this.show_dialog_editUser=!0,window.console.log("der user id for update ",+e.id),this.$axios.put(`http://localhost:8081/user/${e.id}`,{id:e.id,firstName:e.firstName,lastName:e.lastName,emailAdress:e.emailAdress,userRole:e.userRole}).then((()=>{this.getAllUser()})).catch((e=>{window.console.error(e)}))},deleteUser(e){this.$axios.delete(`http://localhost:8081/user/${e.id}`,{params:{id:e.id}}).then((()=>{this.getAllUser(),window.console.log("user id gelÃ¶scht",+e.id)})).catch((t=>{window.console.error(t,e.id)}))},createUser(e){this.$axios.post(`http://localhost:8081/user/${e.id}`).then((()=>{this.getAllUser()})).catch((e=>{window.console.error(e)}))},close(){this.show_dialog=!1,setTimeout((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}),300)}}}),d=i,n=s("2877"),c=s("9989"),u=s("eaac"),m=s("9c40"),p=s("24e8"),f=s("f09f"),w=s("a370"),b=s("27f9"),h=s("4b7e"),q=s("bd08"),N=s("db86"),v=s("42a1"),g=s("7f67"),_=s("eebe"),k=s.n(_),x=Object(n["a"])(d,r,l,!1,null,null,null),U=x.exports;k()(x,"components",{QPage:c["a"],QTable:u["a"],QBtn:m["a"],QDialog:p["a"],QCard:f["a"],QCardSection:w["a"],QInput:b["a"],QCardActions:h["a"],QTr:q["a"],QTd:N["a"],QPopupEdit:v["a"]}),k()(x,"directives",{ClosePopup:g["a"]});var A={name:"UserEditor",components:{UserAPI:U},data(){return{}},created(){}},I=A,R=Object(n["a"])(I,a,o,!1,null,null,null);t["default"]=R.exports;k()(R,"components",{QPage:c["a"]})}}]);